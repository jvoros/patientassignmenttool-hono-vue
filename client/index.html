<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/assets/pat.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Patient Assignment Tool</title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/basecoat-css@0.2.8/dist/basecoat.cdn.min.css"
    />
    <!-- <script src="https://cdn.jsdelivr.net/npm/basecoat-css@0.2.8/dist/js/all.min.js" defer></script> -->

    <link rel="stylesheet" href="./styles/styles.css" />

    <!-- Basecoat UI Theme Switcher -->
    <script>
      (() => {
        try {
          const stored = localStorage.getItem("themeMode");
          if (stored ? stored === "dark" : matchMedia("(prefers-color-scheme: dark)").matches) {
            document.documentElement.classList.add("dark");
          }
        } catch (_) {}

        const apply = (dark) => {
          document.documentElement.classList.toggle("dark", dark);
          try {
            localStorage.setItem("themeMode", dark ? "dark" : "light");
          } catch (_) {}
        };

        document.addEventListener("basecoat:theme", (event) => {
          const mode = event.detail?.mode;
          apply(
            mode === "dark"
              ? true
              : mode === "light"
              ? false
              : !document.documentElement.classList.contains("dark")
          );
        });
      })();
    </script>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/index.js"></script>
  </body>
</html>
